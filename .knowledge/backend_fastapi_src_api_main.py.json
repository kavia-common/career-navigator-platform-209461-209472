{"is_source_file": true, "format": "Python", "description": "This is the main source code file for the backend API of a Career Navigator platform. It defines the FastAPI application, database models (using SQLAlchemy), Pydantic schemas, environment configuration, routes for role management, gap analysis, roadmap generation, user progress tracking, and integration with an external LLM recommendation service. It includes setup, seed data, and multiple REST endpoints supporting the core functionalities of the platform.", "external_files": ["dotenv", "fastapi", "fastapi.middleware.cors", "pydantic", "sqlalchemy", "httpx"], "external_methods": ["load_dotenv", "FastAPI", "Depends", "HTTPException", "status", "CORSMiddleware", "BaseModel", "Field", "create_engine", "sessionmaker", "text"], "published": ["health_check", "health_check_alias", "list_roles", "get_role", "post_gap_analysis", "post_roadmap", "post_progress_update", "post_recommend"], "classes": [{"name": "SkillBase", "description": "Pydantic schema for skill data with minimal attributes."}, {"name": "RoleBase", "description": "Pydantic schema for role data with minimal attributes."}, {"name": "RoleDetail", "description": "Extended role schema including associated skills."}, {"name": "GapAnalysisRequest", "description": "Request schema for performing a gap analysis."}, {"name": "GapItem", "description": "Representation of individual skill gap analysis result."}, {"name": "GapAnalysisResponse", "description": "Response schema for gap analysis including role info and gaps."}, {"name": "RoadmapRequest", "description": "Request schema for generating a roadmap graph."}, {"name": "CytoscapeElement", "description": "Schema for representing a node or edge in Cytoscape.js graph."}, {"name": "RoadmapResponse", "description": "Response schema containing Cytoscape elements for visualization."}, {"name": "ProgressUpdateRequest", "description": "Request schema for updating user skill progress."}, {"name": "RecommendRequest", "description": "Request schema for obtaining recommendations from LLM."}, {"name": "RecommendResponse", "description": "Response schema containing recommendations payload from LLM service."}, {"name": "ProgressUpdateResponse", "description": "Schema for acknowledging progress update responses."}], "methods": [{"name": "get_db()", "description": "Dependency to provide a database session per request.", "scope": "", "scopeKind": ""}, {"name": "None seed_minimal(db: Session)", "description": "Function to seed minimal default data into the database if empty.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Health check endpoint for service status.", "scope": "", "scopeKind": ""}, {"name": "health_check_alias()", "description": "Alias endpoint for health probe.", "scope": "", "scopeKind": ""}, {"name": "on_startup()", "description": "Event handler to initialize schema and seed data on startup.", "scope": "", "scopeKind": ""}, {"name": "list_roles(db: Session = Depends(get_db))", "description": "Returns a list of all roles with basic info.", "scope": "", "scopeKind": ""}, {"name": "get_role(role_id: int, db: Session = Depends(get_db))", "description": "Fetch role details including associated skills.", "scope": "", "scopeKind": ""}, {"name": "post_gap_analysis(payload: GapAnalysisRequest, db: Session = Depends(get_db))", "description": "Performs gap analysis between user skills and target role.", "scope": "", "scopeKind": ""}, {"name": "post_roadmap(payload: RoadmapRequest, db: Session = Depends(get_db))", "description": "Generates a Cytoscape.js graph modeling pathway to a role.", "scope": "", "scopeKind": ""}, {"name": "post_progress_update(payload: ProgressUpdateRequest, db: Session = Depends(get_db))", "description": "Updates or creates user progress for a skill.", "scope": "", "scopeKind": ""}, {"name": "post_recommend(payload: RecommendRequest, db: Session = Depends(get_db))", "description": "Proxies request to external LLM recommendation service.", "scope": "", "scopeKind": ""}], "search-terms": ["FastAPI", "Role", "Skill", "gap analysis", "roadmap graph", "user progress", "LLM recommendation", "API endpoints", "role_skills", "seeding"], "state": 2, "file_id": 4, "knowledge_revision": 14, "git_revision": "3cfd23752e49b0b27c2861621f2e36b39ab86a41", "revision_history": [{"9": "728f012e635b9c2b924410f407929f07178e7246"}, {"10": "1095e59f3e2573211d9360b8095a8a87c30575c0"}, {"11": "5c91fafb6da1de2b796c5260ac96c2034ef98a9a"}, {"12": "1a6e62a41b73f101059de997561ce23b034016b1"}, {"13": "1a6e62a41b73f101059de997561ce23b034016b1"}, {"14": "3cfd23752e49b0b27c2861621f2e36b39ab86a41"}], "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CORS_ORIGINS", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^CORS_ORIGINS = os.getenv(\"CORS_ORIGINS\", \"*\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "CytoscapeElement", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class CytoscapeElement(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DATABASE_URL", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^DATABASE_URL = os.getenv(\"DATABASE_URL\", \"sqlite:\\/\\/\\/.\\/career_nav.db\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GapAnalysisRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class GapAnalysisRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GapAnalysisResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class GapAnalysisResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GapItem", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class GapItem(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LLM_SERVICE_URL", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^LLM_SERVICE_URL = os.getenv(\"LLM_SERVICE_URL\", \"http:\\/\\/localhost:8001\\/recommend\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ProgressUpdateRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class ProgressUpdateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProgressUpdateResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class ProgressUpdateResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecommendRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RecommendRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecommendResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RecommendResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoadmapRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoadmapRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoadmapResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoadmapResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Role", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class Role(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoleBase", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoleBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoleDetail", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoleDetail(RoleBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^SessionLocal = sessionmaker(bind=engine, autoflush=False, autocommit=False)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Skill", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class Skill(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SkillBase", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class SkillBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class User(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserSkillProgress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class UserSkillProgress(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"roles\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"skills\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"user_skill_progress\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    category = Column(String(100), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    category: Optional[str] = Field(None, description=\"Category or family of the skill\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    connect_args = {\"check_same_thread\": False}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^connect_args: Dict[str, Any] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable"}, {"_type": "tag", "name": "current_skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    current_skills: List[str] = Field(..., description=\"List of user's current skill names\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "GapAnalysisRequest", "scopeKind": "class"}, {"_type": "tag", "name": "current_skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    current_skills: List[str] = Field(default_factory=list, description=\"User's current skill na/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RoadmapRequest", "scopeKind": "class"}, {"_type": "tag", "name": "current_skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    current_skills: List[str] = Field(default_factory=list, description=\"User's current skills\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    data: Dict[str, Any] = Field(..., description=\"Cytoscape element data dictionary\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description = Column(Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description = Column(Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Description of the role\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Description of the skill\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "elements", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    elements: List[CytoscapeElement] = Field(..., description=\"Cytoscape.js elements array for r/", "language": "Python", "typeref": "typename:List[CytoscapeElement]", "kind": "variable", "scope": "RoadmapResponse", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    email = Column(String(255), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^engine = create_engine(DATABASE_URL, echo=False, connect_args=connect_args)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "RoleBase.Config", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "SkillBase.Config", "scopeKind": "class"}, {"_type": "tag", "name": "gap", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    gap: bool = Field(..., description=\"True if missing from user's current skills\")$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "gaps", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    gaps: List[GapItem] = Field(default_factory=list, description=\"List of skills and gaps\")$/", "language": "Python", "typeref": "typename:List[GapItem]", "kind": "variable", "scope": "GapAnalysisResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def get_db():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_role", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def get_role(role_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(role_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "grabbable", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    grabbable: Optional[bool] = Field(None, description=\"Whether can be grabbed\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "group", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    group: Optional[str] = Field(None, description=\"Optional group (nodes\\/edges)\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check_alias", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def health_check_alias():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Unique identifier for the role\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Unique identifier for the skill\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "list_roles", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def list_roles(db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    message: str = Field(..., description=\"Status message\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpdateResponse", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name = Column(String(200), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name = Column(String(200), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name = Column(String(200), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name: str = Field(..., description=\"Name of the role\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name: str = Field(..., description=\"Name of the skill\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "on_startup", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def on_startup():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "origins", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    origins = [\"*\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "post_gap_analysis", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def post_gap_analysis(payload: GapAnalysisRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: GapAnalysisRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "post_progress_update", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def post_progress_update(payload: ProgressUpdateRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: ProgressUpdateRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "post_recommend", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^async def post_recommend(payload: RecommendRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: RecommendRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "post_roadmap", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def post_roadmap(payload: RoadmapRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: RoadmapRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    progress = Column(Float, nullable=False, default=0.0)  # 0..1$/", "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    progress: float = Field(..., ge=0.0, le=1.0, description=\"Progress value after update (0..1)/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ProgressUpdateResponse", "scopeKind": "class"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    progress: float = Field(..., ge=0.0, le=1.0, description=\"Progress value between 0 and 1\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ProgressUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "recommendations", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    recommendations: Dict[str, Any] = Field(..., description=\"Recommendations payload from LLM s/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}, {"_type": "tag", "name": "recommended_actions", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    recommended_actions: List[str] = Field(default_factory=list, description=\"Recommended action/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "required", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    required: bool = Field(..., description=\"Whether the skill is required by the role\")$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "role_skills_table", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^role_skills_table = Table($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    roles = relationship(\"Role\", secondary=role_skills_table, back_populates=\"skills\")$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "seed_minimal", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def seed_minimal(db: Session) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session)"}, {"_type": "tag", "name": "selectable", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    selectable: Optional[bool] = Field(None, description=\"Whether selectable\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "skill", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill: str = Field(..., description=\"Skill name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "skill_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill_id = Column(Integer, ForeignKey(\"skills.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "skill_name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill_name: str = Field(..., description=\"Skill name for which the progress was updated\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpdateResponse", "scopeKind": "class"}, {"_type": "tag", "name": "skill_name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill_name: str = Field(..., description=\"Skill name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skills = relationship(\"Skill\", secondary=role_skills_table, back_populates=\"roles\")$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skills: List[SkillBase] = Field(default_factory=list, description=\"Skills associated with th/", "language": "Python", "typeref": "typename:List[SkillBase]", "kind": "variable", "scope": "RoleDetail", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: Optional[int] = Field(None, description=\"Optional target role ID\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: int = Field(..., description=\"Analyzed role ID\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "GapAnalysisResponse", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: int = Field(..., description=\"Target role ID for gap analysis\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "GapAnalysisRequest", "scopeKind": "class"}], "hash": "5508b6b020d0b750f2e24a802d46fdb2", "format-version": 4, "code-base-name": "backend_fastapi", "filename": "backend_fastapi/src/api/main.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CORS_ORIGINS = os.getenv(\"CORS_ORIGINS\", \"*\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DATABASE_URL = os.getenv(\"DATABASE_URL\", \"sqlite:\\/\\/\\/.\\/career_nav.db\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LLM_SERVICE_URL = os.getenv(\"LLM_SERVICE_URL\", \"http:\\/\\/localhost:8001\\/recommend\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = sessionmaker(bind=engine, autoflush=False, autocommit=False)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "__tablename__ = \"roles\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"skills\"", "scope": "Skill", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"user_skill_progress\"", "scope": "UserSkillProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "category = Column(String(100), nullable=True)", "scope": "Skill", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] category", "scope": "SkillBase", "scopeKind": "class", "description": "unavailable"}, {"name": "connect_args = {\"check_same_thread\": False}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, Any] connect_args", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] current_skills", "scope": "GapAnalysisRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] data", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "description = Column(Text, nullable=True)", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "RoleBase", "scopeKind": "class", "description": "unavailable"}, {"name": "List[CytoscapeElement] elements", "scope": "RoadmapResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String(255), unique=True, nullable=False, index=True)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "engine = create_engine(DATABASE_URL, echo=False, connect_args=connect_args)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "RoleBase.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "bool gap", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "List[GapItem] gaps", "scope": "GapAnalysisResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[bool] grabbable", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] group", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True, index=True)", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "RoleBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str message", "scope": "ProgressUpdateResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(200), nullable=True)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(200), unique=True, nullable=False, index=True)", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "RoleBase", "scopeKind": "class", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "origins = [\"*\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "progress = Column(Float, nullable=False, default=0.0)  # 0..1", "scope": "UserSkillProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "float progress", "scope": "ProgressUpdateResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] recommendations", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] recommended_actions", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "bool required", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "role_skills_table = Table(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "roles = relationship(\"Role\", secondary=role_skills_table, back_populates=\"skills\")", "scope": "Skill", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[bool] selectable", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "str skill", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "skill_id = Column(Integer, ForeignKey(\"skills.id\"), nullable=False)", "scope": "UserSkillProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "str skill_name", "scope": "ProgressUpdateResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "skills = relationship(\"Skill\", secondary=role_skills_table, back_populates=\"roles\")", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "List[SkillBase] skills", "scope": "RoleDetail", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] target_role_id", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int target_role_id", "scope": "GapAnalysisResponse", "scopeKind": "class", "description": "unavailable"}]}