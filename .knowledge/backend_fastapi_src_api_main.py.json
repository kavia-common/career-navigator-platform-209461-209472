{"is_source_file": true, "format": "Python (FastAPI)", "description": "Primary source code for the backend API of the Career Navigator platform, implementing role and skill management, gap analysis, roadmap generation, user progress tracking, and LLM-based recommendations.", "external_files": ["dotenv (load_dotenv)", "fastapi", "pydantic", "sqlalchemy", "httpx"], "external_methods": ["load_dotenv", "FastAPI", "Depends", "HTTPException", "status", "CORSMiddleware", "BaseModel", "Field", "create_engine", "Column", "Integer", "String", "Text", "ForeignKey", "Float", "Table", "declarative_base", "relationship", "sessionmaker", "Session", "httpx.AsyncClient"], "published": ["app"], "classes": [{"name": "Role", "description": "Role model representing job roles, with associated skills."}, {"name": "Skill", "description": "Skill model representing skills linked to frameworks and roles."}, {"name": "User", "description": "User model tracking user data."}, {"name": "UserSkillProgress", "description": "Model tracking individual user's skill progress."}, {"name": "RoleBase", "description": "Pydantic schema for role basic info."}, {"name": "RoleDetail", "description": "Pydantic schema for detailed role info including skills."}, {"name": "SkillBase", "description": "Pydantic schema for skill info."}, {"name": "GapAnalysisRequest", "description": "Schema for input of gap analysis request."}, {"name": "GapItem", "description": "Schema for individual gap report item."}, {"name": "GapAnalysisResponse", "description": "Schema for full gap analysis result."}, {"name": "RoadmapRequest", "description": "Request schema for generating a skills roadmap."}, {"name": "CytoscapeElement", "description": "Schema for Cytoscape.js element data for visualization."}, {"name": "RoadmapResponse", "description": "Response schema containing visualization elements."}, {"name": "ProgressUpdateRequest", "description": "Schema for updating user skill progress."}, {"name": "RecommendRequest", "description": "Schema for requesting LLM recommendations."}, {"name": "RecommendResponse", "description": "Schema for LLM response payload."}], "methods": [{"name": "get_db()", "description": "Dependency to provide a database session per request.", "scope": "", "scopeKind": ""}, {"name": "Role get_role_by_id(db: Session, role_id: int)", "description": "Fetch role by ID with error handling.", "scope": "", "scopeKind": ""}, {"name": "User ensure_user(db: Session, email: str)", "description": "Retrieve or create a user by email.", "scope": "", "scopeKind": ""}, {"name": "Optional[float] link_required_level(db: Session, role_id: int, skill_id: int)", "description": "Fetch the required level for a skill in a role, if available.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Health check endpoint returning a simple status message.", "scope": "", "scopeKind": ""}, {"name": "on_startup()", "description": "Create DB schema and seed minimal data on app startup.", "scope": "", "scopeKind": ""}, {"name": "list_roles(db: Session = Depends(get_db))", "description": "Return list of all roles.", "scope": "", "scopeKind": ""}, {"name": "get_role(role_id: int, db: Session = Depends(get_db))", "description": "Get detailed information of a specific role including skills.", "scope": "", "scopeKind": ""}, {"name": "post_gap_analysis(payload: GapAnalysisRequest, db: Session = Depends(get_db))", "description": "Perform gap analysis between current skills and a target role.", "scope": "", "scopeKind": ""}, {"name": "post_roadmap(payload: RoadmapRequest, db: Session = Depends(get_db))", "description": "Generate a visualization graph of skills needed for a role.", "scope": "", "scopeKind": ""}, {"name": "post_progress_update(payload: ProgressUpdateRequest, db: Session = Depends(get_db))", "description": "Update or record user's skill progress.", "scope": "", "scopeKind": ""}, {"name": "post_recommend(payload: RecommendRequest, db: Session = Depends(get_db))", "description": "Proxy to an external LLM recommendation service.", "scope": "", "scopeKind": ""}, {"name": "None seed_minimal(db: Session)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["httpx.AsyncClient.post", "db.query", "db.add", "db.commit", "db.refresh"], "search-terms": ["Career Navigator", "Role", "Skill", "Gap analysis", "Roadmap", "Progress tracking", "LLM recommendations", "FastAPI backend"], "state": 2, "file_id": 4, "knowledge_revision": 10, "git_revision": "1095e59f3e2573211d9360b8095a8a87c30575c0", "revision_history": [{"9": "728f012e635b9c2b924410f407929f07178e7246"}, {"10": "1095e59f3e2573211d9360b8095a8a87c30575c0"}], "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CORS_ORIGINS", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^CORS_ORIGINS = os.getenv(\"CORS_ORIGINS\", \"*\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "CytoscapeElement", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class CytoscapeElement(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DATABASE_URL", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^DATABASE_URL = os.getenv(\"DATABASE_URL\", \"sqlite:\\/\\/\\/.\\/career_nav.db\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GapAnalysisRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class GapAnalysisRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GapAnalysisResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class GapAnalysisResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GapItem", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class GapItem(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LLM_SERVICE_URL", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^LLM_SERVICE_URL = os.getenv(\"LLM_SERVICE_URL\", \"http:\\/\\/localhost:8001\\/recommend\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ProgressUpdateRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class ProgressUpdateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecommendRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RecommendRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecommendResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RecommendResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoadmapRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoadmapRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoadmapResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoadmapResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Role", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class Role(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoleBase", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoleBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RoleDetail", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class RoleDetail(RoleBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Skill", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class Skill(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SkillBase", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class SkillBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class User(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserSkillProgress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^class UserSkillProgress(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"roles\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"skills\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"user_skill_progress\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    category = Column(String(100), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    category: Optional[str] = Field(None, description=\"Category or family of the skill\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    connect_args = {\"check_same_thread\": False}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^connect_args = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "current_skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    current_skills: List[str] = Field(..., description=\"List of user's current skill names\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "GapAnalysisRequest", "scopeKind": "class"}, {"_type": "tag", "name": "current_skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    current_skills: List[str] = Field(default_factory=list, description=\"User's current skill na/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RoadmapRequest", "scopeKind": "class"}, {"_type": "tag", "name": "current_skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    current_skills: List[str] = Field(default_factory=list, description=\"User's current skills\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    data: Dict[str, Any] = Field(..., description=\"Cytoscape element data dictionary\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description = Column(Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description = Column(Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Description of the role\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Description of the skill\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "elements", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    elements: List[CytoscapeElement] = Field(..., description=\"Cytoscape.js elements array for r/", "language": "Python", "typeref": "typename:List[CytoscapeElement]", "kind": "variable", "scope": "RoadmapResponse", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    email = Column(String(255), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^engine = create_engine(DATABASE_URL, echo=False, connect_args=connect_args)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ensure_user", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def ensure_user(db: Session, email: str) -> User:$/", "language": "Python", "typeref": "typename:User", "kind": "function", "signature": "(db: Session, email: str)"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "RoleBase.Config", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "SkillBase.Config", "scopeKind": "class"}, {"_type": "tag", "name": "gap", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    gap: bool = Field(..., description=\"True if missing from user's current skills\")$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "gaps", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    gaps: List[GapItem] = Field(default_factory=list, description=\"List of skills and gaps\")$/", "language": "Python", "typeref": "typename:List[GapItem]", "kind": "variable", "scope": "GapAnalysisResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def get_db():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_role", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def get_role(role_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(role_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_role_by_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def get_role_by_id(db: Session, role_id: int) -> Role:$/", "language": "Python", "typeref": "typename:Role", "kind": "function", "signature": "(db: Session, role_id: int)"}, {"_type": "tag", "name": "grabbable", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    grabbable: Optional[bool] = Field(None, description=\"Whether can be grabbed\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "group", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    group: Optional[str] = Field(None, description=\"Optional group (nodes\\/edges)\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Unique identifier for the role\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Unique identifier for the skill\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "link_required_level", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def link_required_level(db: Session, role_id: int, skill_id: int) -> Optional[float]:$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "function", "signature": "(db: Session, role_id: int, skill_id: int)"}, {"_type": "tag", "name": "list_roles", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def list_roles(db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name = Column(String(200), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name = Column(String(200), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name = Column(String(200), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name: str = Field(..., description=\"Name of the role\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RoleBase", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    name: str = Field(..., description=\"Name of the skill\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SkillBase", "scopeKind": "class"}, {"_type": "tag", "name": "on_startup", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def on_startup():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "origins", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    origins = [\"*\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "post_gap_analysis", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def post_gap_analysis(payload: GapAnalysisRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: GapAnalysisRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "post_progress_update", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def post_progress_update(payload: ProgressUpdateRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: ProgressUpdateRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "post_recommend", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^async def post_recommend(payload: RecommendRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: RecommendRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "post_roadmap", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def post_roadmap(payload: RoadmapRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: RoadmapRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    progress = Column(Float, nullable=False, default=0.0)  # 0.0 to 1.0$/", "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    progress: float = Field(..., ge=0.0, le=1.0, description=\"Progress value between 0 and 1\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ProgressUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "recommendations", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    recommendations: Dict[str, Any] = Field(..., description=\"Recommendations payload from LLM s/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}, {"_type": "tag", "name": "recommended_actions", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    recommended_actions: List[str] = Field(default_factory=list, description=\"Recommended action/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "required", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    required: bool = Field(..., description=\"Whether the skill is required by the role\")$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "role_skills_table", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^role_skills_table = Table($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    roles = relationship(\"Role\", secondary=role_skills_table, back_populates=\"skills\")$/", "language": "Python", "kind": "variable", "scope": "Skill", "scopeKind": "class"}, {"_type": "tag", "name": "seed_minimal", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^def seed_minimal(db: Session) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session)"}, {"_type": "tag", "name": "selectable", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    selectable: Optional[bool] = Field(None, description=\"Whether selectable\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "CytoscapeElement", "scopeKind": "class"}, {"_type": "tag", "name": "skill", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill: str = Field(..., description=\"Skill name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GapItem", "scopeKind": "class"}, {"_type": "tag", "name": "skill_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill_id = Column(Integer, ForeignKey(\"skills.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "UserSkillProgress", "scopeKind": "class"}, {"_type": "tag", "name": "skill_name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skill_name: str = Field(..., description=\"Skill name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skills = relationship(\"Skill\", secondary=role_skills_table, back_populates=\"roles\")$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "skills", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    skills: List[SkillBase] = Field(default_factory=list, description=\"Skills associated with th/", "language": "Python", "typeref": "typename:List[SkillBase]", "kind": "variable", "scope": "RoleDetail", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: Optional[int] = Field(None, description=\"Optional target role ID\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: int = Field(..., description=\"Analyzed role ID\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "GapAnalysisResponse", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: int = Field(..., description=\"Target role ID for gap analysis\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "GapAnalysisRequest", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_id", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_id: int = Field(..., description=\"Target role ID to build a roadmap for\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RoadmapRequest", "scopeKind": "class"}, {"_type": "tag", "name": "target_role_name", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209472/backend_fastapi/src/api/main.py", "pattern": "/^    target_role_name: str = Field(..., description=\"Analyzed role name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GapAnalysisResponse", "scopeKind": "class"}], "hash": "dcf808860397e226528eddc4ebc17e7f", "format-version": 4, "code-base-name": "backend_fastapi", "filename": "backend_fastapi/src/api/main.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CORS_ORIGINS = os.getenv(\"CORS_ORIGINS\", \"*\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DATABASE_URL = os.getenv(\"DATABASE_URL\", \"sqlite:\\/\\/\\/.\\/career_nav.db\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LLM_SERVICE_URL = os.getenv(\"LLM_SERVICE_URL\", \"http:\\/\\/localhost:8001\\/recommend\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "__tablename__ = \"roles\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"skills\"", "scope": "Skill", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"user_skill_progress\"", "scope": "UserSkillProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "category = Column(String(100), nullable=True)", "scope": "Skill", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] category", "scope": "SkillBase", "scopeKind": "class", "description": "unavailable"}, {"name": "connect_args = {\"check_same_thread\": False}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connect_args = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] current_skills", "scope": "GapAnalysisRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] data", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "description = Column(Text, nullable=True)", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "RoleBase", "scopeKind": "class", "description": "unavailable"}, {"name": "List[CytoscapeElement] elements", "scope": "RoadmapResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String(255), unique=True, nullable=False, index=True)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "engine = create_engine(DATABASE_URL, echo=False, connect_args=connect_args)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "RoleBase.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "bool gap", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "List[GapItem] gaps", "scope": "GapAnalysisResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[bool] grabbable", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] group", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True, index=True)", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "RoleBase", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(200), nullable=True)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(200), unique=True, nullable=False, index=True)", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "RoleBase", "scopeKind": "class", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "origins = [\"*\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "progress = Column(Float, nullable=False, default=0.0)  # 0.0 to 1.0", "scope": "UserSkillProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "float progress", "scope": "ProgressUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] recommendations", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] recommended_actions", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "bool required", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "role_skills_table = Table(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "roles = relationship(\"Role\", secondary=role_skills_table, back_populates=\"skills\")", "scope": "Skill", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[bool] selectable", "scope": "CytoscapeElement", "scopeKind": "class", "description": "unavailable"}, {"name": "str skill", "scope": "GapItem", "scopeKind": "class", "description": "unavailable"}, {"name": "skill_id = Column(Integer, ForeignKey(\"skills.id\"), nullable=False)", "scope": "UserSkillProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "str skill_name", "scope": "ProgressUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "skills = relationship(\"Skill\", secondary=role_skills_table, back_populates=\"roles\")", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "List[SkillBase] skills", "scope": "RoleDetail", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] target_role_id", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int target_role_id", "scope": "GapAnalysisResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str target_role_name", "scope": "GapAnalysisResponse", "scopeKind": "class", "description": "unavailable"}]}